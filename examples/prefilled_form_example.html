<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script  type="module" src="../src/index.ts"></script>
</head>
<body>
    <!--Place container div wherever you want to show the registration form-->
    <div id="checkin_registration"></div>
    <script>
        const onDocumentReady = e => {
            const checkinRegistrationForm = checkin_event.getEventRegistrationForm(49815);

            /*  
                Pre-filling information might be useful 
                when you already have logged in user data
                that you want to be populated on registration
                form load.
            */

            //Pre-fill ticket buyer information
            checkinRegistrationForm.setOrderContact({
                name: "Test testen",
                phone: "+47 123 45 678",
                countryCode: "NO",
                email: "test@example.com"
            });


            /*
                Connects a crm property to the participant that is linked to the order contact. 
          
                checkinRegistrationForm.setCrmProperty({
                    propertyKey: 'crm-property-key',
                    propertyValue: 123456,
                    context: orderContactParticipant
                });
            */
            /* 
                Add ticket by id. 
            */
            const earlyBirdTicket_orderContact = checkinRegistrationForm.addTicket(96492, true); 


            
            
            const earlyBirdTicket = checkinRegistrationForm.addTicket(96492); 
            /*
                Set ticket participant crm data
            */
            earlyBirdTicket.setParticipantInfo({
                name: "Donald Duck",
                phone: "+1 111",
                countryCode: "US",
                email: "donald@duck.com",
                address: null
            });

            //Add additional by id 
            earlyBirdTicket.addAdditional(385827);

            /*
                Load registration form into container element. If container element does not exist,
                you can provide an HTMLElement or element id to the init function to be the container
                of the registration form.
            */
            checkinRegistrationForm.initRegistrationForm();
        }
        document.addEventListener('DOMContentLoaded', onDocumentReady)
    </script>
</body>
</html>